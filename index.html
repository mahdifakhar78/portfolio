<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mahdi Fakhar | Front-end Developer</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
</head>
<body class="bg-dark text-light">

  <!-- Loader -->
  <div id="loader-wrapper">
    <div class="spinner-border text-info" role="status"></div>
  </div>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">Mahdi Fakhar</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav gap-3">
          <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
          <li class="nav-item"><a class="nav-link" href="#skills">Skills</a></li>
          <li class="nav-item"><a class="nav-link" href="#projects">Projects</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="text-center py-5 mt-5">
    <img src="profile.jpg" alt="Mahdi Fakhar" class="profile-img mb-3" />
    <h1 class="name">Mahdi Fakhar</h1>
    <p class="lead">Front-end Developer | Commerce Specialist</p>
    <button class="btn btn-outline-light mt-3" id="theme-toggle">Toggle Theme</button>
  </header>

  <!-- Main Content -->
  <main class="container">
    <section id="about" class="section mb-5" data-aos="fade-up">
      <h2>About Me</h2>
      <p>Iâ€™m a passionate front-end developer from Tehran, Iran. I enjoy building responsive and clean websites using HTML, CSS, Bootstrap, and JavaScript. Currently, I work as an import specialist and grow my freelance career.</p>
    </section>

    <section id="skills" class="section mb-5" data-aos="fade-up">
      <h2>Skills</h2>
      <div class="row">
        <div class="col-md-6">
          <ul class="skill-list">
            <li><i class="fab fa-html5"></i> HTML5</li>
            <li><i class="fab fa-css3-alt"></i> CSS3</li>
            <li><i class="fab fa-bootstrap"></i> Bootstrap</li>
          </ul>
        </div>
        <div class="col-md-6">
          <ul class="skill-list">
            <li><i class="fab fa-js"></i> JavaScript</li>
            <li><i class="fas fa-code"></i> C++</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="projects" class="section mb-5" data-aos="fade-up">
      <h2>Projects</h2>
      <div id="project-list" class="row g-4">
        <!-- GitHub Projects will be inserted here -->
      </div>
    </section>

    <section id="contact" class="section mb-5" data-aos="fade-up">
      <h2>Contact</h2>
      <ul class="contact-list">
        <li><i class="fas fa-envelope"></i> <a href="mailto:mahdi.fakhar7@gmail.com">mahdi.fakhar7@gmail.com</a></li>
        <li><i class="fab fa-linkedin"></i> <a href="https://www.linkedin.com/in/mahdi-fakhar" target="_blank">mahdi-fakhar</a></li>
      </ul>
    </section>
  </main>

  <!-- Footer -->
  <footer class="text-center py-4">
    <p>&copy; 2025 Mahdi Fakhar</p>
  </footer>

  <!-- Scroll to Top -->
  <button id="scrollToTopBtn" title="Go to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();

    // Loader
    window.addEventListener("load", () => {
      document.getElementById("loader-wrapper").classList.add("hidden");
    });

    // Theme Toggle with localStorage
    const toggleBtn = document.getElementById('theme-toggle');
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') document.body.classList.add('light-theme');

    toggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('light-theme');
      localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
    });

    // GitHub Projects Fetch
    const username = "mahdifakhar78";
    const projectList = document.getElementById("project-list");

    fetch(`https://api.github.com/users/${username}/repos?sort=updated`)
      .then(res => res.json())
      .then(repos => {
        const visibleRepos = repos.filter(repo => !repo.fork && !repo.private);
        if (visibleRepos.length === 0) {
          projectList.innerHTML = "<p>No projects found.</p>";
          return;
        }

        visibleRepos.forEach(repo => {
          const col = document.createElement("div");
          col.className = "col-md-6";
          col.innerHTML = `
            <div class="card bg-secondary text-light h-100">
              <div class="card-body">
                <h5 class="card-title">${repo.name}</h5>
                <p class="card-text">${repo.description || "No description available."}</p>
                <a href="${repo.html_url}" class="btn btn-outline-light" target="_blank">View on GitHub</a>
              </div>
            </div>`;
          projectList.appendChild(col);
        });
      })
      .catch(error => {
        projectList.innerHTML = "<p class='text-danger'>Failed to load projects from GitHub.</p>";
        console.error(error);
      });

    // Scroll to Top
    const scrollBtn = document.getElementById("scrollToTopBtn");
    window.addEventListener("scroll", () => {
      scrollBtn.style.display = (document.documentElement.scrollTop > 300) ? "block" : "none";
    });
    scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
</body>
</html>
